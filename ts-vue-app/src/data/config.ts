// ═══════════════════════════════════════════════════════════════
// data/config.ts
// 游戏运行时配置 - 所有游戏数据的集中定义
// ═══════════════════════════════════════════════════════════════

import type { 母畜实体 } from '@/core/entities';
import type { 属性系数, 姓名池配置, 种族配置数据, 身份配置数据, 地点名称池, 地点类型配置数据, 运行时实体配置, 冠军工厂配置, 母畜工厂配置, 可袭击地点工厂配置, 武装分组数据, 武装等级, 奴隶刷新配置 as 奴隶刷新配置接口, 母畜创建配置 } from '../types/index';


// ═══════════════════════════════════════════════════════════════
// 母畜配置
// ═══════════════════════════════════════════════════════════════

// 各种族的姓名生成配置
const 种族配置 = new Map<string, 种族配置数据>([
    ['人类', {
        姓名池: {
            前缀: [],
            主名: [
                '艾拉', '莉娜', '索菲亚', '伊莎贝尔', '维多利亚',
                '艾米莉', '夏洛特', '奥利维亚', '艾玛', '阿梅莉亚',
                '玛格丽特', '凯瑟琳', '伊丽莎白', '安娜', '玛丽亚',
                '海伦', '朱莉亚', '塞西莉亚', '罗莎琳德', '比阿特丽斯'
            ],
            后缀: []
        },
        前缀概率: 0,
        后缀概率: 0,
        生育系数: { 力量: 1.0, 敏捷: 1.0, 智力: 1.0 },
        生育力基础值: 100,
        魅力系数: 1.0
    }],
    ['精灵', {
        姓名池: {
            前缀: ['艾', '莱', '希', '露', '菲'],
            主名: [
                '瑞尔', '洛丝', '兰希尔', '缇娜', '蕾雅',
                '温蒂', '诗琳', '月华', '星澜', '晨曦',
                '薇儿', '妮丝', '蒂亚', '莉丝', '塔莉亚'
            ],
            后缀: ['安', '娜', '雅', '丝', '恩']
        },
        前缀概率: 0.6,
        后缀概率: 0.8,
        生育系数: { 力量: 1.0, 敏捷: 1.0, 智力: 1.0 },
        生育力基础值: 100,
        魅力系数: 1.0
    }],
]);

// 各身份的年龄范围配置
const 身份配置 = new Map<string, 身份配置数据>([
    ['贵族', {
        最小年龄: 16,
        最大年龄: 45,
        生育系数: { 力量: 1.0, 敏捷: 1.0, 智力: 1.0 },
        生育力系数: 1.0,
        魅力基础值: 100
    }],
]);

const 母畜配置: 母畜工厂配置 = {
    种族配置,
    身份配置,
};

// ═══════════════════════════════════════════════════════════════
// 冠军配置
// ═══════════════════════════════════════════════════════════════

const 冠军姓名池: 姓名池配置 = {
    前缀: [
        '狂暴', '嗜血', '铁皮', '利爪', '毒牙',
        '碎骨', '裂颅', '噬魂', '暗影', '腐烂',
        '疯狂', '凶残', '狡诈', '贪婪', '堕落'
    ],
    主名: [
        '格鲁克', '莫格', '扎格', '斯纳加', '戈布',
        '纳兹', '古尔', '布拉格', '克拉克', '沃格',
        '吉克', '尼克', '里克', '比克', '迪克',
        '托克', '博克', '洛克', '索克', '霍克'
    ],
    后缀: [
        '碎骨者', '噬魂者', '裂颅者', '割喉者', '剥皮者',
        '吞噬者', '践踏者', '毁灭者', '征服者', '掠夺者'
    ]
};

const 冠军配置: 冠军工厂配置 = {
    冠军姓名池: 冠军姓名池,
    生育消耗: 100,
    属性随机浮动范围: 5,
    前缀概率: 0.35,
    后缀概率: 0.25,
    母畜身份配置: 身份配置,
    母畜种族配置: 种族配置,
};

// ═══════════════════════════════════════════════════════════════
// 地点配置
// ═══════════════════════════════════════════════════════════════


const 地点类型配置 = new Map<string, 地点类型配置数据>([
    ['偏僻村庄', {
        地点名称池: {
            描述: '一个偏远的小村庄，人口稀少，防御薄弱',
            前缀: ['东', '西', '南', '北', '上', '下', '老', '新'],
            中缀: ['柳', '杨', '槐', '桃', '梨', '麦', '稻', '草', '石', '木'],
            后缀: ['村', '庄', '屯', '寨', '坳', '湾', '沟', '岭']
        },
        战斗力范围: { 最小: 50, 最大: 150 },
        侦察最大值: 60,
        母畜数量范围: { 最小: 3, 最大: 8 },
        身份分布: {
            '农妇': 5,
            '平民': 3,
            '女仆': 1,
            '商人': 0.5
        },
        种族分布: {
            '人类': 8,
            '半精灵': 1,
            '兽人': 0.5,
            '猫人': 0.5
        }
    }],
    ['边境村落', {
        地点名称池: {
            描述: '位于王国边境的村落，居民多为混血或异族',
            前缀: ['边', '界', '荒', '野', '远'],
            中缀: ['狼', '熊', '鹿', '虎', '豹', '荆', '棘', '岩', '沙'],
            后缀: ['村', '镇', '堡', '寨', '营']
        },
        战斗力范围: { 最小: 100, 最大: 250 },
        侦察最大值: 80,
        母畜数量范围: { 最小: 4, 最大: 10 },
        身份分布: {
            '猎人': 3,
            '战士': 2,
            '农妇': 2,
            '平民': 2,
            '盗贼': 1
        },
        种族分布: {
            '人类': 4,
            '半兽人': 2,
            '兽人': 1,
            '狼人': 1,
            '猫人': 1,
            '兔人': 1
        }
    }],
    ['商贸小镇', {
        地点名称池: {
            描述: '繁忙的商贸小镇，来往商人众多',
            前缀: ['金', '银', '玉', '宝', '富', '商'],
            中缀: ['河', '桥', '市', '坊', '街', '巷'],
            后缀: ['镇', '城', '埠', '港', '集']
        },
        战斗力范围: { 最小: 180, 最大: 350 },
        侦察最大值: 100,
        母畜数量范围: { 最小: 6, 最大: 15 },
        身份分布: {
            '商人': 4,
            '女仆': 3,
            '舞娘': 2,
            '娼妓': 2,
            '平民': 2,
            '工匠': 1,
            '贵族': 0.5
        },
        种族分布: {
            '人类': 6,
            '半精灵': 2,
            '猫人': 1,
            '狐人': 1
        }
    }],
    ['贵族庄园', {
        地点名称池: {
            描述: '富裕贵族的私人庄园，守卫森严',
            前缀: ['冯', '德', '范', '圣', '皇'],
            中缀: ['玫瑰', '百合', '蔷薇', '紫藤', '橡树', '雪松'],
            后缀: ['庄园', '府邸', '城堡', '宅邸', '别墅']
        },
        战斗力范围: { 最小: 300, 最大: 600 },
        侦察最大值: 150,
        母畜数量范围: { 最小: 5, 最大: 12 },
        身份分布: {
            '贵族': 3,
            '女仆': 5,
            '骑士': 1,
            '舞娘': 1,
            '平民': 1
        },
        种族分布: {
            '人类': 7,
            '精灵': 2,
            '半精灵': 1
        }
    }],
    ['修道院', {
        地点名称池: {
            描述: '供奉神明的修道院，充满神圣气息',
            前缀: ['圣', '神', '光', '白', '银'],
            中缀: ['十字', '圣杯', '天使', '圣光', '祈祷', '洗礼'],
            后缀: ['修道院', '圣堂', '教堂', '神殿', '圣所']
        },
        战斗力范围: { 最小: 200, 最大: 450 },
        侦察最大值: 120,
        母畜数量范围: { 最小: 4, 最大: 10 },
        身份分布: {
            '修女': 6,
            '牧师': 3,
            '平民': 1
        },
        种族分布: {
            '人类': 8,
            '精灵': 1,
            '半精灵': 1
        }
    }],
    ['法师塔', {
        地点名称池: {
            描述: '神秘的法师塔，蕴含强大魔力',
            前缀: ['奥术', '秘法', '星辰', '月光', '暗影', '烈焰', '寒冰'],
            中缀: ['魔导', '咒文', '符文', '元素', '虚空'],
            后缀: ['塔', '尖塔', '法塔', '魔塔', '学院']
        },
        战斗力范围: { 最小: 400, 最大: 800 },
        侦察最大值: 200,
        母畜数量范围: { 最小: 3, 最大: 8 },
        身份分布: {
            '法师': 5,
            '女仆': 2,
            '平民': 1
        },
        种族分布: {
            '人类': 4,
            '精灵': 3,
            '半精灵': 2,
            '提夫林': 1
        }
    }],
    ['精灵聚落', {
        地点名称池: {
            描述: '隐藏在森林深处的精灵聚落',
            前缀: ['翠绿', '银光', '星落', '月影', '晨露'],
            中缀: ['橡木', '白桦', '紫藤', '银杏', '红枫', '古树'],
            后缀: ['林地', '圣域', '密林', '仙境', '绿洲']
        },
        战斗力范围: { 最小: 350, 最大: 700 },
        侦察最大值: 180,
        母畜数量范围: { 最小: 4, 最大: 10 },
        身份分布: {
            '猎人': 3,
            '法师': 2,
            '贵族': 2,
            '战士': 2,
            '平民': 1
        },
        种族分布: {
            '精灵': 8,
            '半精灵': 2
        }
    }],
    ['兽人部落', {
        地点名称池: {
            描述: '野蛮兽人的部落营地',
            前缀: ['血', '骨', '牙', '角', '爪'],
            中缀: ['颅', '腥', '战', '猎', '蛮'],
            后缀: ['部落', '营地', '巢穴', '据点', '领地']
        },
        战斗力范围: { 最小: 250, 最大: 550 },
        侦察最大值: 100,
        母畜数量范围: { 最小: 5, 最大: 12 },
        身份分布: {
            '战士': 4,
            '猎人': 3,
            '平民': 3
        },
        种族分布: {
            '兽人': 5,
            '半兽人': 3,
            '狼人': 2
        }
    }],
    ['商队营地', {
        地点名称池: {
            描述: '行商队伍的临时营地',
            前缀: ['东方', '西域', '北地', '南海', '远行'],
            中缀: ['丝绸', '香料', '珠宝', '皮草', '瓷器'],
            后缀: ['商队', '车队', '驼队', '旅团', '行商']
        },
        战斗力范围: { 最小: 120, 最大: 280 },
        侦察最大值: 70,
        母畜数量范围: { 最小: 2, 最大: 6 },
        身份分布: {
            '商人': 4,
            '舞娘': 2,
            '女仆': 2,
            '娼妓': 1,
            '平民': 1
        },
        种族分布: {
            '人类': 5,
            '猫人': 2,
            '狐人': 2,
            '兔人': 1
        }
    }],
    ['矿工营地', {
        地点名称池: {
            描述: '采矿工人的临时营地',
            前缀: ['黑', '铁', '铜', '银', '金', '煤'],
            中缀: ['矿', '脉', '洞', '坑', '井'],
            后缀: ['营地', '矿场', '工地', '采掘场', '矿坑']
        },
        战斗力范围: { 最小: 150, 最大: 320 },
        侦察最大值: 80,
        母畜数量范围: { 最小: 2, 最大: 5 },
        身份分布: {
            '工匠': 4,
            '娼妓': 3,
            '平民': 2,
            '女仆': 1
        },
        种族分布: {
            '人类': 5,
            '矮人': 4,
            '半兽人': 1
        }
    }],
    ['边境要塞', {
        地点名称池: {
            描述: '驻守边境的军事要塞',
            前缀: ['铁', '钢', '血', '战', '雷'],
            中缀: ['鹰', '狮', '龙', '狼', '熊'],
            后缀: ['要塞', '堡垒', '城塞', '关隘', '哨站']
        },
        战斗力范围: { 最小: 500, 最大: 1000 },
        侦察最大值: 200,
        母畜数量范围: { 最小: 4, 最大: 10 },
        身份分布: {
            '骑士': 3,
            '战士': 3,
            '娼妓': 2,
            '女仆': 1,
            '贵族': 1
        },
        种族分布: {
            '人类': 8,
            '半兽人': 1,
            '龙裔': 1
        }
    }],
    ['地下洞窟', {
        地点名称池: {
            描述: '神秘的地下洞窟，栖息着各种魔物',
            前缀: ['幽暗', '深渊', '黑暗', '迷宫', '混沌'],
            中缀: ['蜘蛛', '蝙蝠', '蘑菇', '水晶', '熔岩'],
            后缀: ['洞窟', '地穴', '巢穴', '迷宫', '深渊']
        },
        战斗力范围: { 最小: 200, 最大: 500 },
        侦察最大值: 150,
        母畜数量范围: { 最小: 3, 最大: 8 },
        身份分布: {
            '盗贼': 3,
            '法师': 2,
            '战士': 2,
            '平民': 3
        },
        种族分布: {
            '提夫林': 3,
            '拉米亚': 2,
            '史莱姆': 2,
            '人类': 2,
            '半精灵': 1
        }
    }],
    ['废弃神殿', {
        地点名称池: {
            描述: '被遗弃的古老神殿，残留着神秘力量',
            前缀: ['遗忘', '荒废', '古老', '沉眠', '堕落'],
            中缀: ['月神', '战神', '丰饶', '死亡', '混乱'],
            后缀: ['神殿', '圣地', '祭坛', '遗迹', '废墟']
        },
        战斗力范围: { 最小: 300, 最大: 650 },
        侦察最大值: 160,
        母畜数量范围: { 最小: 3, 最大: 7 },
        身份分布: {
            '牧师': 3,
            '修女': 3,
            '法师': 2,
            '平民': 2
        },
        种族分布: {
            '人类': 4,
            '精灵': 2,
            '提夫林': 2,
            '哈比': 1,
            '拉米亚': 1
        }
    }],
    ['妖精森林', {
        地点名称池: {
            描述: '充满魔法气息的妖精森林',
            前缀: ['迷雾', '梦幻', '彩虹', '月光', '星辉'],
            中缀: ['妖精', '仙子', '精灵', '花语', '蝶舞'],
            后缀: ['森林', '仙境', '秘境', '花园', '乐土']
        },
        战斗力范围: { 最小: 180, 最大: 400 },
        侦察最大值: 130,
        母畜数量范围: { 最小: 5, 最大: 12 },
        身份分布: {
            '法师': 3,
            '舞娘': 3,
            '平民': 4
        },
        种族分布: {
            '精灵': 3,
            '狐人': 2,
            '猫人': 2,
            '兔人': 2,
            '哈比': 1
        }
    }],
]);


const 地点配置: 可袭击地点工厂配置 = {
    地点类型配置,
};

// ═══════════════════════════════════════════════════════════════
// 领主配置
// ═══════════════════════════════════════════════════════════════

const 领主配置 = {
    初始魔力: 10,
    最大魔力: 100,
    默认姓名: '无名领主',
};

// ═══════════════════════════════════════════════════════════════
// 奴隶配置
// ═══════════════════════════════════════════════════════════════

export const 奴隶刷新配置: 奴隶刷新配置接口 = {
    刷新数量范围: { 最小: 2, 最大: 5 },
    价格计算: (母畜: 母畜实体) => {
        const 总生育力 = 母畜.获取属性('总生育力');
        const 基础价格 = Math.floor(总生育力 * 0.8);
        const 浮动 = Math.floor(Math.random() * 总生育力 * 0.4);
        return 基础价格 + 浮动;
    }
};

// ═══════════════════════════════════════════════════════════════
// 游戏初始配置
// ═══════════════════════════════════════════════════════════════

export const 游戏初始配置 = {
    领主姓名: '哥布林王',
    初始魔力: 10,
    初始士气: 50,
    初始母畜数: 1,
    初始冠军数: 2,
    初始催淫母乳: 500,
    初始喽啰数: 30,
};

export const 初始地点配置 = {
    生成数量: 3,
    可用类型: ['偏僻村庄', '边境村落', '商队营地'],
};

export const 初始母畜配置: 母畜创建配置[] = [
    {
        姓名: '艾莉亚',
        种族: '人类',
        身份: '平民',
        年龄: 20,
        来源: '20',
        描述: '20',
        魅力: 80,
        臣服度: 80,
        淫乱度: 80,
        总生育力: 200,
        剩余生育力: 150,
    }
];

export const 运行时配置: 运行时实体配置 = {
    冠军配置,
    母畜配置,
    领主配置,
    地点配置,
    黑市奴隶刷新配置: 奴隶刷新配置,
};

export {
    冠军配置,
    母畜配置,
    地点配置,
    领主配置,
    种族配置,
    身份配置,
    地点类型配置,
};
